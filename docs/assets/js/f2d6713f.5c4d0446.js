"use strict";(self.webpackChunkqbt_static_docs=self.webpackChunkqbt_static_docs||[]).push([[717],{2137:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var s=r(5893),n=r(1151);const i={title:"Build Help",hide_title:!0},l=void 0,o={id:"build-help",title:"Build Help",description:"Once the script has successfully configured the platform you can execute the help switch to see how it works and what options you have available to you.",source:"@site/docs/build-help.md",sourceDirName:".",slug:"/build-help",permalink:"/qbittorrent-nox-static/docs/build-help",draft:!1,unlisted:!1,editUrl:"https://github.com/userdocs/qbittorrent-nox-static/tree/master/docs/build-help.md",tags:[],version:"current",frontMatter:{title:"Build Help",hide_title:!0},sidebar:"qtb_sidebar",previous:{title:"Script Usage",permalink:"/qbittorrent-nox-static/docs/script-usage"},next:{title:"Patching",permalink:"/qbittorrent-nox-static/docs/patching"}},d={},c=[{value:"ENV settings",id:"env-settings",level:3},{value:"Switches and flags summarised",id:"switches-and-flags-summarised",level:3},{value:"Build - default profile",id:"build---default-profile",level:3},{value:"Build - modules (optional and mostly for debugging and testing)",id:"build---modules-optional-and-mostly-for-debugging-and-testing",level:3},{value:"Build - paths",id:"build---paths",level:3}];function a(e){const t={admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.a)(),...e.components},{Advanced:r,TabItem:i,Tabs:l}=t;return r||p("Advanced",!0),i||p("TabItem",!0),l||p("Tabs",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"Once the script has successfully configured the platform you can execute the help switch to see how it works and what options you have available to you."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"bash ~/qbittorrent-nox-static.sh -h\n"})}),"\n",(0,s.jsx)(t.h3,{id:"env-settings",children:"ENV settings"}),"\n",(0,s.jsxs)(t.p,{children:["The script has some ",(0,s.jsx)(t.code,{children:"env"})," settings that can trigger certain behaviour."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"export"})," the variables listed below when you use them in your local env.#"]})}),"\n",(0,s.jsx)(t.p,{children:"You can export these before you run the script to set them. There is not specific benefit to using these over the flags and switches."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Build variable"}),(0,s.jsx)(t.th,{children:"Default if unset"}),(0,s.jsx)(t.th,{children:"Options"}),(0,s.jsx)(t.th,{children:"example usage"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"libtorrent_version"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"2.0"})}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"1.2"})," ",(0,s.jsx)(t.code,{children:"2.0"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"export libtorrent_version=2.0"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"qbt_qt_version"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"6.3"})}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"5.12"})," ",(0,s.jsx)(t.code,{children:"5.15"})," ",(0,s.jsx)(t.code,{children:"6.3"})," ",(0,s.jsx)(t.code,{children:"6.3.1"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"export qbt_qt_version=6.3"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"qbt_build_tool"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"qmake"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"cmake"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"export qbt_build_tool=cmake"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"qbt_cross_name"})}),(0,s.jsxs)(t.td,{children:["empty = ",(0,s.jsx)(t.code,{children:"unset"})," (default to OS gcc)"]}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"x86_64"})," ",(0,s.jsx)(t.code,{children:"aarch64"})," ",(0,s.jsx)(t.code,{children:"armv7"})," ",(0,s.jsx)(t.code,{children:"armhf"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"export qbt_cross_name=aarch64"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"qbt_patches_url"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"userdocs/qbittorrent-nox-static"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"username/repo"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"export qbt_patches_url=userdocs/qbittorrent-nox-static"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"qbt_workflow_files"})}),(0,s.jsxs)(t.td,{children:["empty = ",(0,s.jsx)(t.code,{children:"unset"})," (defaults to no)"]}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"yes"})," ",(0,s.jsx)(t.code,{children:"no"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"export qbt_workflow_files=yes"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"qbt_libtorrent_master_jamfile"})}),(0,s.jsxs)(t.td,{children:["empty = ",(0,s.jsx)(t.code,{children:"unset"})," (defaults to no)"]}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"yes"})," ",(0,s.jsx)(t.code,{children:"no"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"export qbt_libtorrent_master_jamfile=yes"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"qbt_optimise_strip"})}),(0,s.jsxs)(t.td,{children:["empty = ",(0,s.jsx)(t.code,{children:"unset"})," (defaults to no)"]}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"yes"})," ",(0,s.jsx)(t.code,{children:"no"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"export qbt_optimise_strip=yes"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"qbt_build_debug"})}),(0,s.jsxs)(t.td,{children:["empty = ",(0,s.jsx)(t.code,{children:"unset"})," (defaults to no)"]}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.code,{children:"yes"})," ",(0,s.jsx)(t.code,{children:"no"})]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"export qbt_build_debug=yes"})})]})]})]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"If you see more variables in the script but they are not listed here they are Github Action specific configured by workflows."})}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["If you set ",(0,s.jsx)(t.code,{children:"qbt_build_tool=cmake"})," and ",(0,s.jsx)(t.code,{children:"qt_version=6.2"})," with the switch ",(0,s.jsx)(t.code,{children:"-qm"})," you can build against QT6."]})}),"\n",(0,s.jsx)(t.h3,{id:"switches-and-flags-summarised",children:"Switches and flags summarised"}),"\n",(0,s.jsx)(t.p,{children:"All switches and flags have a supporting help option that will provide dynamic content where applicable."}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"--boot-strap-release"})," and ",(0,s.jsx)(t.code,{children:"--boot-strap-multi-arch"})," options are specific to GitHub actions but if you read ",(0,s.jsx)(t.code,{children:"--help-boot-strap-release"})," you can see how to trigger ",(0,s.jsx)(t.code,{children:"aarch64|armv7"})," builds on your local system using Alpine/Debian/Ubuntu via docker."]})}),"\n",(0,s.jsx)(r,{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-none",children:' Here are a list of available options\r\n\r\nUse: -b or --build-directory Help: -h-b or --help-build-directory\r\nUse: -bv or --boost-version Help: -h-bv or --help-boost-version\r\nUse: -c or --cmake Help: -h-c or --help-cmake\r\nUse: -d or --debug Help: -h-d or --help-debug\r\nUse: -bs or --boot-strap Help: -h-bs or --help-boot-strap\r\nUse: -bs-c or --boot-strap-cmake Help: -h-bs-c or --help-boot-strap-cmake\r\nUse: -bs-r or --boot-strap-release Help: -h-bs-r or --help-boot-strap-release\r\nUse: -bs-ma or --boot-strap-multi-arch Help: -h-bs-ma or --help-boot-strap-multi-arch\r\nUse: -bs-a or --boot-strap-all Help: -h-bs-a or --help-boot-strap-all\r\nUse: -i or --icu Help: -h-i or --help-icu\r\nUse: -lm or --libtorrent-master Help: -h-lm or --help-libtorrent-master\r\nUse: -lt or --libtorrent-tag Help: -h-lt or --help-libtorrent-tag\r\nUse: -m or --master Help: -h-m or --help-master\r\nUse: -ma or --multi-arch Help: -h-ma or --help-multi-arch\r\nUse: -n or --no-delete Help: -h-n or --help-no-delete\r\nUse: -o or --optimize Help: -h-o or --help-optimize\r\nUse: -p or --proxy Help: -h-p or --help-proxy\r\nUse: -pr or --patch-repo Help: -h-pr or --help-patch-repo\r\nUse: -qm or --qbittorrent-master Help: -h-qm or --help-qbittorrent-master\r\nUse: -qt or --qbittorrent-tag Help: -h-qt or --help-qbittorrent-tag\r\nUse: -s or --strip Help: -h-s or --help-strip\r\n\r\nModule specific help - flags are used with the modules listed here.\r\n\r\nUse: all or module-name Usage: ~/qbittorrent-nox-static.sh all -i\r\n\r\nall ---------------- optional Recommended method to install all modules\r\ninstall ------------ optional Install the ~/qbt-build/completed/qbittorrent-nox binary\r\nbison -------------- required Build bison\r\ngawk --------------- required Build gawk\r\nglibc -------------- required Build libc locally to statically link nss\r\nzlib --------------- required Build zlib locally\r\niconv -------------- required Build iconv locally\r\nicu ---------------- optional Build ICU locally\r\nopenssl ------------ required Build openssl locally\r\nboost -------------- required Download, extract and build the boost library files\r\nlibtorrent --------- required Build libtorrent locally\r\ndouble_conversion -- required A cmakke + Qt6 build compenent on modern OS only.\r\nqtbase ------------- required Build qtbase locally\r\nqttools ------------ required Build qttools locally\r\nqbittorrent -------- required Build qbittorrent locally\r\n\r\nenv help - supported exportable evironment variables\r\n\r\nexport qbt_libtorrent_version="" - options 1.2 2.0\r\nexport qbt_qt_version="" --------- options 5,5.15,6,6.2,6.3 and so on\r\nexport qbt_build_tool="" --------- options qmake cmake\r\nexport qbt_cross_name="" --------- options aarch64 armv7 armhf\r\nexport qbt_patches_url="" -------- options userdocs/qbittorrent-nox-static or usee your full/shorthand github repo\r\nexport qbt_workflow_files="" ----- options yes no - use qbt-workflow-files repo for dependencies - custom tags will override\r\nexport qbt_optimise_strip="" ----- options yes no - strip binaries to reduce file size - cannot be used with debug\r\nexport qbt_build_debug="" -------- options yes no - create a full debug build for use with gdb - cannot be used with strip\r\n\r\nCurrrent settings\r\n\r\nqbt_libtorrent_version="2.0"\r\nqbt_qt_version="5"\r\nqbt_build_tool="qmake"\r\nqbt_cross_name=""\r\nqbt_patches_url="userdocs/qbittorrent-nox-static"\r\nqbt_workflow_files="no"\r\nqbt_libtorrent_master_jamfile="no"\r\nqbt_optimise_strip="no"\r\nqbt_build_debug="no"\r\n\n'})})}),"\n",(0,s.jsxs)(t.p,{children:["For example, taking the ",(0,s.jsx)(t.code,{children:"-h-bs"})," switch as an example, it will show different results based on the preceding switches provided:"]}),"\n",(0,s.jsxs)(l,{children:[(0,s.jsx)(i,{value:"Help -h-bs",label:"\ud83d\udd39-h-bs",default:!0,children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:" Here is the help description for this flag:\r\n\r\n Creates dirs in this structure: ~/qbt-build/patches/APPNAME/TAG/patch\r\n\r\n Add your patches there, for example.\r\n\r\n ~/qbt-build/patches/libtorrent/1.2.18/patch\r\n\r\n ~/qbt-build/patches/qbittorrent/4.5.0/patch\n"})})}),(0,s.jsx)(i,{value:"Help -qm -lm -h-bs",label:"\ud83d\udd39-qm -lm -h-bs",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:" Here is the help description for this flag:\r\n\r\n Creates dirs in this structure: ~/qbt-build/patches/APPNAME/TAG/patch\r\n\r\n Add your patches there, for example.\r\n\r\n ~/qbt-build/patches/libtorrent/RC_1_2/patch\r\n\r\n ~/qbt-build/patches/qbittorrent/master/patch\n"})})}),(0,s.jsx)(i,{value:"Help -qt release-4.2.5 -lt v2.0.3 -h-bs",label:"\ud83d\udd39-qt release-4.2.5 -lt v2.0.3 -h-bs",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"Here is the help description for this flag:\r\n\r\nCreates dirs in this structure: ~/qbt-build/patches/APPNAME/TAG/patch\r\n\r\nAdd your patches there, for example.\r\n\r\n~/qbt-build/patches/libtorrent/2.0.3/patch\r\n\r\n~/qbt-build/patches/qbittorrent/4.2.5/patch\n"})})})]}),"\n",(0,s.jsx)(t.h3,{id:"build---default-profile",children:"Build - default profile"}),"\n",(0,s.jsxs)(t.p,{children:["Install all default modules (ICU is skipped) and build ",(0,s.jsx)(t.code,{children:"qbittorrent-nox"})," to the default build directory ",(0,s.jsx)(t.code,{children:"qbt-build/compelted"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"bash ~/qbittorrent-nox-static.sh all\n"})}),"\n",(0,s.jsx)(t.h3,{id:"build---modules-optional-and-mostly-for-debugging-and-testing",children:"Build - modules (optional and mostly for debugging and testing)"}),"\n",(0,s.jsx)(t.p,{children:"You can build modules individually, subject to this warning."}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"It's best to consider all individual modules listed below as being dependent on the previous modules being built for that module to build successfully."})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"bash ~/qbittorrent-nox-static.sh module\n"})}),"\n",(0,s.jsx)(t.p,{children:"Here are the list of supported modules:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"bison (Debian based only)\r\ngawk (Debian based only)\r\nglibc (Debian based only)\r\nzlib (default)\r\niconv (default)\r\nicu (default)\r\nopenssl (default)\r\nboost (default)\r\ndouble_conversion (default for Qt6 on a modern OS - Bullseye / Jammy)\r\nqtbase (default)\r\nqttools (default)\r\nlibtorrent (default)\r\nqbittorrent (default)\n"})}),"\n",(0,s.jsx)(t.h3,{id:"build---paths",children:"Build - paths"}),"\n",(0,s.jsxs)(t.p,{children:["By default the script will built to a hard coded path defined by the scripts ",(0,s.jsx)(t.code,{children:"$install_dir"})," variable as to avoid installing files to a server and causing conflicts."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"This path is relative to the scripts location."})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"qbt-build\n"})}),"\n",(0,s.jsxs)(t.p,{children:["You can modify this dynamically with the ",(0,s.jsx)(t.code,{children:"-b"})," argument"]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"-b"})," must be used in all commands provided to the script or default ",(0,s.jsx)(t.code,{children:"qbt-build"})," will be used instead."]})}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"-b"})," flag accepts both full ",(0,s.jsx)(t.code,{children:"/opt"})," and relative ",(0,s.jsx)(t.code,{children:"opt"})," paths."]})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'bash ~/qbittorrent-nox-static.sh all -b "/opt"\n'})})]})}function h(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}function p(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},1151:(e,t,r)=>{r.d(t,{Z:()=>o,a:()=>l});var s=r(7294);const n={},i=s.createContext(n);function l(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);